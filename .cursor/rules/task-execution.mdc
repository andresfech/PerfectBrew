---
alwaysApply: false
triggerPhrases:
  - "execute"
  - "start implementation"
  - "begin tasks"
  - "run checklist"
  - "implement plan"
  - "execute tasks"
---

# Task Execution Protocol

## ğŸ¯ Goal: Execute approved task checklists systematically with production safety

## ğŸ“‹ Prerequisites: Implementation plan must be reviewed and converted to checklist format via @03-prd-review.mdc

## ğŸ›  Execution Protocol
- **ONE Task at a Time** â€“ Execute single sub-task, wait for user "yes" to continue
- **Mark Progress** â€“ Change '[ ]' to '[x]' when complete, update task file
- **No Batch Processing** â€“ Never attempt multiple tasks simultaneously

## ğŸ“ˆ Progress Tracking
1. **Complete Sub-Task** â€“ Mark '[x]' immediately
2. **Check Parent** â€“ Mark parent '[x]' if all children complete
3. **Update File** â€“ Save progress to task list
4. **Wait for Approval** â€“ Pause for user "yes" before next task

## ğŸ›¡ PerfectBrew Production Safety Checklist
- [ ] **Verify Paths** â€“ Use codebase_search to confirm file locations
- [ ] **Real Data Only** â€“ Actual JSON recipe files, audio files
- [ ] **No Placeholders** â€“ All code must be production-ready
- [ ] **Error Handling** â€“ Include proper validation and error states
- [ ] **Audio Integrity** â€“ Maintain step-to-audio mapping
- [ ] **Recipe Compatibility** â€“ Preserve existing JSON structure
- [ ] **Timer Accuracy** â€“ Ensure brewing timing remains precise

## ğŸ§± PerfectBrew Layer Execution Order
1. **Data Layer (1.0)** â€“ Recipe JSON files, Core Data models
2. **Services Layer (2.0)** â€“ AudioService, LocalizationManager, SettingsManager
3. **ViewModels Layer (3.0)** â€“ BrewingGuideViewModel, business logic
4. **Views Layer (4.0)** â€“ SwiftUI views, UI components
5. **Audio Layer (5.0)** â€“ Chatterbox TTS integration, audio files
6. **Testing Layer (6.0)** â€“ Unit tests, QA validation

## â›” Stop Immediately If:
- Task file is not in proper checklist format
- Database migration fails
- API returns 500 errors
- iOS app crashes
- Placeholder/mock code detected
- User requests clarification

## ğŸ“„ Task File Format
```markdown
## Relevant Files
- path/to/file.swift â€“ [Brief description]

## Tasks
- [x] 1.1 [Completed task]
- [ ] 1.2 [Current task]

## âš ï¸ AI Instructions
1. **Check Next Task** â€“ Identify current uncompleted `[ ]` sub-task  
2. **Execute Single Task** â€“ Complete only current item  
3. **Update Progress** â€“ Mark `[x]` and save file  
4. **Wait for Approval** â€“ Get user â€œyesâ€ before continuing  
5. **Never Skip Format** â€“ If plan isnâ€™t in checklist format, redirect to @03-prd-review.mdc first